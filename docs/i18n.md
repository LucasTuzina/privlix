# Internationalization (i18n) Documentation

## Overview

Privlix uses Vue i18n for internationalization support with the following languages:
- **English (en)** - Default language
- **German (de)** - German localization

## Architecture

### File Structure
```
src/renderer/
├── i18n.ts                    # i18n configuration and utilities
├── locales/
│   ├── en.json                # English translations
│   └── de.json                # German translations
└── components/
    └── LanguageSwitcher.vue   # Language selector component
```

### Configuration

The i18n system is configured in `src/renderer/i18n.ts`:

- **Auto-detection**: Automatically detects browser language
- **Persistence**: Saves selected language in localStorage
- **Fallback**: Falls back to English if language is not available
- **Global injection**: Available in all Vue components via `$t()`

### Usage in Vue Components

#### Template Usage
```vue
<template>
  <h1>{{ $t('welcome.title') }}</h1>
  <p>{{ $t('welcome.description') }}</p>
  <button>{{ $t('common.save') }}</button>
</template>
```

#### Script Setup Usage
```vue
<script setup lang="ts">
import { useI18n } from 'vue-i18n'

const { t } = useI18n()

const buttonText = computed(() => t('common.confirm'))
</script>
```

### Language Switching

#### Programmatic Language Change
```typescript
import { setLocale } from '../i18n'

// Change to German
setLocale('de')

// Change to English  
setLocale('en')
```

#### Using Language Switcher Component
```vue
<template>
  <LanguageSwitcher />
</template>

<script setup>
import LanguageSwitcher from './components/LanguageSwitcher.vue'
</script>
```

## Translation Keys Structure

### Navigation
- `nav.home` - Home navigation item
- `nav.search` - Search navigation item  
- `nav.settings` - Settings navigation item
- `nav.searchPlaceholder` - Search input placeholder

### Welcome Screen
- `welcome.title` - Welcome screen title
- `welcome.description` - Welcome description
- `welcome.features.*` - Feature descriptions
- `welcome.actions.*` - Action buttons and help text

### Media Content
- `mediaRows.*` - Media row titles and subtitles
- `hero.*` - Hero section content
- `stats.*` - Statistics labels

### Common Elements
- `common.loading` - Loading text
- `common.error` - Error text
- `common.success` - Success text
- `common.save` - Save button
- `common.cancel` - Cancel button

### Settings
- `settings.title` - Settings page title
- `settings.language` - Language setting label
- `settings.general` - General settings section

## Adding New Languages

1. **Create Translation File**
   ```bash
   touch src/renderer/locales/fr.json  # French example
   ```

2. **Add Translations**
   ```json
   {
     "nav": {
       "home": "Accueil",
       "search": "Recherche"
     }
   }
   ```

3. **Update i18n Configuration**
   ```typescript
   import fr from './locales/fr.json'
   
   const messages = {
     en,
     de, 
     fr  // Add new language
   }
   ```

4. **Update Language Switcher**
   ```vue
   <option value="fr">FR</option>
   ```

## Translation Guidelines

### Key Naming Convention
- Use **dot notation** for nested structures
- Use **camelCase** for multi-word keys
- Group related translations under common prefixes

### Best Practices
- Keep keys descriptive and contextual
- Use placeholders for dynamic content: `{count} results found`
- Provide context comments for translators when needed
- Test all languages in the UI to ensure proper formatting

### Dynamic Content
```vue
<!-- For dynamic content with placeholders -->
<p>{{ $t('search.resultsCount', { count: results.length }) }}</p>
```

## Browser Language Detection

The system automatically detects the browser language on first visit:

1. Checks localStorage for saved preference
2. Falls back to browser language (navigator.language)
3. Defaults to English if no match found

## Persistence

Language preference is automatically saved in localStorage as `privlix-locale` and persists across sessions.

## Development

### Testing Languages
```bash
npm run dev  # Start development server
# Navigate to Settings to switch languages
# Or change browser language for auto-detection
```

### Adding Translation Keys
1. Add key to both `en.json` and `de.json`
2. Use in Vue components with `$t('new.key')`  
3. Test in both languages
4. Rebuild and verify

### Type Safety
The i18n setup includes TypeScript support with proper typing for translation keys and locale management.
